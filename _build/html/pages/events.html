

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Events &mdash; Discord4J 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Discord4J 1 documentation" href="../index.html"/>
        <link rel="next" title="Bot Settings" href="botsettings.html"/>
        <link rel="prev" title="Logging In" href="logging_in.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Discord4J
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging_in.html">Logging In</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ready-event">Ready Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="#full-example">Full Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="botsettings.html">Bot Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="channel.html">Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="user.html">User</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Discord4J</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Events</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/pages/events.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="events">
<h1>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h1>
<p>If you have any problems with this guide, please contact &#64;Thefjong in <a class="reference external" href="https://discord.gg/0SBTUU1wZTX5pYo1">Discord API Chat</a> in the Discord4J channel.</p>
<p>See all Events here: <a class="reference external" href="http://austinv11.github.io/Discord4J/docs.html">JavaDocs</a></p>
<div class="section" id="ready-event">
<h2>Ready Event<a class="headerlink" href="#ready-event" title="Permalink to this headline">¶</a></h2>
<p>First you want to register a listener via your IDiscordClient variable. You can do so by the getDispatcher() method in IDiscordClient, and then registerListener(IListener).
You can either make an EventHandler that listens so all events that your class have an &#64;EventSubscriber annotation over it, and make a file for each Event that you listens to.</p>
<p>See following code:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">)</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;You need to specify a token before continuing&quot;</span><span class="o">);</span>
        <span class="n">discordClient</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>

        <span class="n">discordClient</span><span class="o">.</span><span class="na">getDispatcher</span><span class="o">().</span><span class="na">registerListener</span><span class="o">(</span><span class="k">new</span> <span class="n">EventHandler</span><span class="o">());</span>
        <span class="n">discordClient</span><span class="o">.</span><span class="na">getDispatcher</span><span class="o">().</span><span class="na">registerListener</span><span class="o">(</span><span class="k">new</span> <span class="n">ReadyEventListener</span><span class="o">());</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The line that has (new EventHandler()) registers a listener that works by making methods that has an &#64;EventSubscriber annotation.</p>
<p>The line that has (new ReadyEventListener()) registers a listeners that implements IListener. This file will only react when one specific event is dispatched.</p>
<p>The EventHandler class:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">EventHandler</span>
<span class="o">{</span>
        <span class="nd">@EventSubscriber</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReadyEvent</span><span class="o">(</span><span class="n">ReadyEvent</span> <span class="n">event</span><span class="o">)</span>
        <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;The bot is now ready&quot;</span><span class="o">);</span>
                <span class="n">doSomething</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@EventSubscriber</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMessageEvent</span><span class="o">(</span><span class="n">MessageReceivedEvent</span> <span class="n">event</span><span class="o">)</span>
        <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getMessage</span><span class="o">().</span><span class="na">getAuthor</span><span class="o">().</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span> <span class="o">+</span> <span class="n">event</span><span class="o">.</span><span class="na">getMessage</span><span class="o">().</span><span class="na">getContent</span><span class="o">());</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The ReadyEventListener class:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ReadyEventListener</span> <span class="kd">implements</span> <span class="n">IListener</span><span class="o">&lt;</span><span class="n">ReadyEvent</span><span class="o">&gt;</span>
<span class="o">{</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">ReadyEvent</span> <span class="n">event</span><span class="o">)</span>
        <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;The bot is now ready&quot;</span><span class="o">);</span>
                <span class="n">doSomething</span><span class="o">();</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The EventHandler class listens on 2 events. Both ReadyEvent and MessageReceivedEvent.
The class will print &#8220;The Bot is now ready&#8221; in the console when the ReadyEvent is dispatched.
The class will also print the a message with a name when the bot has received a message.</p>
<p>The ReadyEventListener only listens on ReadyEvent and will not be called when MessageReceivedEvent has been dispatched.</p>
<p>ReadyEvent is probably the most useful Events that Discord4J has, because you cant really do anything Discord wise without the bot being ready.</p>
</div>
<div class="section" id="full-example">
<h2>Full Example<a class="headerlink" href="#full-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">)</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot;You need to specify a token before continuing&quot;</span><span class="o">);</span>
        <span class="n">discordClient</span> <span class="o">=</span> <span class="n">getClient</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>

        <span class="n">discordClient</span><span class="o">.</span><span class="na">getDispatcher</span><span class="o">().</span><span class="na">registerListener</span><span class="o">(</span><span class="k">new</span> <span class="n">EventHandler</span><span class="o">());</span>
        <span class="n">discordClient</span><span class="o">.</span><span class="na">getDispatcher</span><span class="o">().</span><span class="na">registerListener</span><span class="o">(</span><span class="k">new</span> <span class="n">ReadyEventListener</span><span class="o">());</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">EventHandler</span>
<span class="o">{</span>
        <span class="nd">@EventSubscriber</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReadyEvent</span><span class="o">(</span><span class="n">ReadyEvent</span> <span class="n">event</span><span class="o">)</span>
        <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;The bot is now ready&quot;</span><span class="o">);</span>
                <span class="n">doSomething</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@EventSubscriber</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMessageEvent</span><span class="o">(</span><span class="n">MessageReceivedEvent</span> <span class="n">event</span><span class="o">)</span>
        <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getMessage</span><span class="o">().</span><span class="na">getAuthor</span><span class="o">().</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span> <span class="o">+</span> <span class="n">event</span><span class="o">.</span><span class="na">getMessage</span><span class="o">().</span><span class="na">getContent</span><span class="o">());</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ReadyEventListener</span> <span class="kd">implements</span> <span class="n">IListener</span><span class="o">&lt;</span><span class="n">ReadyEvent</span><span class="o">&gt;</span>
<span class="o">{</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">ReadyEvent</span> <span class="n">event</span><span class="o">)</span>
        <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;The bot is now ready&quot;</span><span class="o">);</span>
                <span class="n">doSomething</span><span class="o">();</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="botsettings.html" class="btn btn-neutral float-right" title="Bot Settings" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="logging_in.html" class="btn btn-neutral" title="Logging In" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Discord4J.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>